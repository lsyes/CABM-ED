# 角色系统说明

## 目录结构

- `chat/` - 角色聊天时的图片
  - `normal.png` - 聊天状态的角色图片
- `{场景名}/` - 角色在特定场景中的图片
  - 例如：`livingroom/1.png` - 角色在客厅场景的状态1

## 配置文件

角色的预设位置配置在 `config/character_presets.json` 中。

### 配置格式

```json
{
  "场景名": [
    {
      "image": "图片文件名.png",
      "scale": 缩放比例（0.0-1.0），
      "position": {
        "x": X位置比例（0.0-1.0），
        "y": Y位置比例（0.0-1.0）
      }
    }
  ]
}
```

### 示例

```json
{
  "livingroom": [
    {
      "image": "1.png",
      "scale": 0.5,
      "position": {
        "x": 0.5,
        "y": 0.25
      }
    }
  ]
}
```

这表示：在livingroom场景中，角色以1.png的样子，50%缩放，出现在屏幕（50%，25%）的位置。

## 功能说明

1. **随机出现**：进入游戏或切换场景时，角色会随机选择一个预设位置出现
2. **点击交互**：点击角色后，角色会移动到屏幕中央并切换为聊天状态
3. **聊天对话**：屏幕下方会弹出聊天框
4. **结束聊天**：点击"结束聊天"按钮后，角色返回场景中的随机位置

## 添加新场景的角色

1. 在 `assets/images/character/` 下创建新场景文件夹
2. 添加角色在该场景的图片
3. 在 `config/character_presets.json` 中添加该场景的配置
