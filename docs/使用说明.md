# 使用说明

## 控制面板

打开侧边栏后，你会看到三组独立的控制按钮：

### 1. 场景选择
选择不同的场景（如客厅、卧室等）。每个场景可以有不同的天气和时间段配置。

### 2. 天气选择
选择当前场景的天气状态：
- 晴天
- 雨天
- 雷雨
- 多云
- 等等...

### 3. 时间段选择
选择一天中的时间段：
- **白天**：6:00 - 17:00
- **傍晚**：17:00 - 19:00 和 0:00 - 6:00（凌晨算作傍晚）
- **夜晚**：19:00 - 24:00

## 自动模式

开启"自动模式"后，系统会根据当前真实时间自动选择对应的时间段：
- 当前时间在 6:00-17:00 → 自动切换到"白天"
- 当前时间在 17:00-19:00 或 0:00-6:00 → 自动切换到"傍晚"
- 当前时间在 19:00-24:00 → 自动切换到"夜晚"

**注意**：
- 开启自动模式后，时间段按钮会被禁用
- 你仍然可以手动切换场景和天气
- 关闭自动模式后，可以手动选择任意时间段

## 音频控制

右下角的圆形按钮用于控制背景音：
- 点击播放/暂停背景音效
- 音频会根据选择的天气和时间段自动切换
- 音频会循环播放

## 配置结构

新的配置结构为三层：
```
场景 → 天气 → 时间段
```

例如：
- 场景：客厅
  - 天气：晴天
    - 时间段：白天、傍晚、夜晚
  - 天气：雨天
    - 时间段：白天、傍晚、夜晚

每个时间段都有独立的：
- 图片
- 音频
- 氛围参数（亮度、对比度、饱和度）

## 文件组织

### 图片文件
```
backend/static/images/
├── livingroom/     # 场景ID
│   ├── sunny/     # 天气ID
│   │   ├── day.png    # 白天
│   │   ├── dusk.png   # 傍晚
│   │   └── night.png  # 夜晚
│   └── rainy/
│       ├── day.png
│       ├── dusk.png
│       └── night.png
```

### 音频文件
```
backend/static/audio/
├── livingroom/     # 场景ID
│   ├── sunny/     # 天气ID
│   │   ├── day.mp3    # 白天
│   │   ├── dusk.mp3   # 傍晚
│   │   └── night.mp3  # 夜晚
│   └── rainy/
│       ├── day.mp3
│       ├── dusk.mp3
│       └── night.mp3
```

## 时间段映射

系统会根据当前小时数自动判断时间段：

| 时间范围 | 时间段 | ID |
|---------|--------|-----|
| 0:00 - 6:00 | 傍晚（凌晨） | dusk |
| 6:00 - 17:00 | 白天 | day |
| 17:00 - 19:00 | 傍晚 | dusk |
| 19:00 - 24:00 | 夜晚 | night |

**为什么凌晨算作傍晚？**
为了简化配置，凌晨（0:00-6:00）使用与傍晚相同的素材，这样只需要准备三组素材即可。

## 快速开始

1. 准备素材（每个天气需要 3 张图片 + 3 个音频）
2. 按天气ID创建文件夹
3. 将对应时间段的文件放入文件夹
4. 编辑 `backend/config/scenes.json` 配置
5. 重启服务

详细配置方法请参考：
- [图片配置指南](./图片配置指南.md)
- [音频配置指南](./音频配置指南.md)
